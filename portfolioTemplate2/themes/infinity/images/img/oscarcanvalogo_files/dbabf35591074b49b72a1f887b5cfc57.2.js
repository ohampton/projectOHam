(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["9az9"],{"M9az9":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");__webpack_require__("Mm20L");self._bfa324c796fedc27ad6e48ccdc3f1756 = self._bfa324c796fedc27ad6e48ccdc3f1756 || {};(function(__c) {'use strict';var ytd=function(a){return new wtd({ta:__c.q("A",a),mfa:__c.q("B",a),qn:__c.q("C",a),La:__c.q("D",a),appVersion:__c.ua("E",a),da:__c.Ga(xtd,"U",a),shortDescription:__c.q("T",a),Qc:__c.y("S",a),Lc:__c.q("Q",a),iq:__c.y("R",a),Ee:__c.ua("G",a),OA:__c.y("H",a),WG:__c.za("I",a),XTb:__c.Ba("J",a),WTb:__c.y("M",a),VTb:__c.y("O",a),Rwb:__c.w("P",a)})},ztd=function(a,b){const c=a.store.WG;a=a.store.OA;if(c&&b.length>=c)return __c.A("qm7zvQ",[c]);if(a&&0===b.length)return __c.A("1SEWQw",[])},
Atd=async function(a,b,c,d){await a.Ho({kind:"pre_opening",rd:b,appVersion:c,lk:d})},Btd=async function(a){if("closed"!==a.store.epa.kind)return wW(a.dva.Wi,a.store.epa.option.ta).Qc?a.Pva():a.edb()},Ctd=async function(a){await a.Ho({kind:"open"})},Etd=async function(a,b){b=Dtd(a.Wi,b);return a.v_a.fu(b)},Ftd=async function(a,b){await a.v_a.RJ(Dtd(a.Wi,b));a.dva.edb(b);a.UKb();return a.getExtension(b)},Gtd=async function(a,b){await a.v_a.BF(wW(a.Wi,b));a.dva.Pva(b);a.UKb()},Htd=function(a,b){let c=
!b.Qc;a.Axc(b,d=>{const e=Object(xW.o)(()=>a.store.epa);b.Qc||a.l1b(b.ta);d.setSelection({location:"flyout",oa:a.u6b(b.label,e,d.wh,a.BVb,f=>a.reportError(f),c)});Atd(a.pIb,b.ta,b.appVersion,d.eYd).catch(f=>{a.reportError(f,{Kc:`Failed to run an extension with id = ${b.ta}`,extra:new Map([["extensionId",b.ta],["appId",b.La],["appVersion",b.appVersion]])})});c&&(c=!1)})},Itd=function(a){a.store.extensions.forEach(b=>Htd(a,b))},Jtd=async function(a){a=await a.DH.zbb();return a.ok?a.value:[]},wW=function(a,
b){return __c.p(a.store.extensions.get(b),`Cannot find a publish extension option with the given id = ${b}`)},Dtd=function(a,b){a=wW(a,b);return{appId:a.La,appVersion:a.appVersion}},xtd=(a,b)=>{switch(a){case "SIMPLE":return 1;case "LIST":return 2;case "NESTED":return 3;default:throw new TypeError(`Unrecognized value ${JSON.stringify(a)} for type 'ExtensionLayout'${b?` (property '${b}')`:""}`);}},wtd=class{constructor(a){this.ta=a.ta;this.mfa=a.mfa;this.qn=a.qn;this.La=a.La;this.appVersion=a.appVersion;
this.da=a.da;this.shortDescription=a.shortDescription;this.Qc=a.Qc;this.Lc=a.Lc;this.iq=a.iq;this.Ee=a.Ee;this.OA=a.OA;this.WG=a.WG;this.XTb=a.XTb||[];this.WTb=a.WTb;this.VTb=a.VTb;this.Rwb=a.Rwb}};
__c.Gu.prototype.sfc=__c.ca(190,async function(a){__c.m(null!=a.ta&&/^A[a-zA-Z0-9_-]{10}_[a-zA-Z0-9_-]{6}$/.test(a.ta),"GetPublishExtensionRequest#extension does not match: A[a-zA-Z0-9_-]{10}_[a-zA-Z0-9_-]{6}");a=__c.ne(__c.le([__c.wL,"extensions",a.ta]));a=await this.ya.get(a);return new __c.byc({ES:__c.Ca("A",a),ta:__c.Da(ytd,"B",a)})});var Ktd=class{constructor(a){this.ta=a.ta}},yW=__webpack_require__("mrSG");var xW=__webpack_require__("2vnA");var Ltd=__webpack_require__("TyAF");var zW=__webpack_require__("q1tI");var Mtd=__webpack_require__,Ntd=Mtd("TSYQ"),Otd=Mtd.n_x(Ntd);var Ptd=__webpack_require__("Gp1o");var Qtd=class{constructor(){this.handlers=new xW.b}get(a){return this.handlers.get(a.ta)}get isEmpty(){return 0===this.handlers.size}},Rtd=class{constructor(a){this.cTa=new Qtd;this.xNa=a}};__c.k(()=>Rtd.prototype.xNa);Object(yW.b)([xW.E.ref],Rtd.prototype,"xNa",void 0);var Std=Object(Ltd.b)(({Gja:a,message:b,OA:c,WG:d,Qra:e,onLoad:f})=>{zW.useEffect(()=>{f()},[]);if(!d&&!c)return null;a={placeholder:c?__c.A("f2AFFQ",[]):__c.A("zH7Oow",[]),className:"TJQbHw",iU:5,value:b||"",onChange:a,error:!!e};b=d?zW.createElement(__c.ZF,{count:(b||"").length,max:d,lb:"horizontal"}):void 0;return zW.createElement("div",{className:"g_WBbw"},b?zW.createElement(__c.$F,Object.assign({},a,{Ewa:b})):zW.createElement(__c.YF,Object.assign({},a)),!!e&&zW.createElement(__c.Yx,{style:"error"},
e))});var AW=class{constructor(a){this.store=a}Gja(a){this.store.Qra=ztd(this,a);this.store.message=a;this.store.E1=null!=this.store.Qra}svc(){this.store.E1=null!=ztd(this,this.store.message)}};__c.k(()=>AW.prototype.store);Object(yW.b)([xW.E.ref],AW.prototype,"store",void 0);__c.k(()=>AW.prototype.Gja);Object(yW.b)([xW.l.bound],AW.prototype,"Gja",null);__c.k(()=>AW.prototype.svc);Object(yW.b)([xW.l],AW.prototype,"svc",null);var BW=class{constructor(a){this.message="";this.E1=!1;this.ta=a}get WG(){return this.ta.WG}get OA(){return this.ta.OA}get formData(){return{Gcc:void 0,message:this.message}}get sWb(){return this.Qra?{isValid:!1,errors:[{m$d:"message",error:this.Qra}]}:{isValid:!this.E1,errors:[]}}};__c.k(()=>BW.prototype.message);Object(yW.b)([xW.E.ref],BW.prototype,"message",void 0);__c.k(()=>BW.prototype.E1);Object(yW.b)([xW.E.ref],BW.prototype,"E1",void 0);__c.k(()=>BW.prototype.Qra);
Object(yW.b)([xW.E.ref],BW.prototype,"Qra",void 0);__c.k(()=>BW.prototype.ta);Object(yW.b)([xW.E.shallow],BW.prototype,"ta",void 0);__c.k(()=>BW.prototype.WG);Object(yW.b)([xW.o],BW.prototype,"WG",null);__c.k(()=>BW.prototype.OA);Object(yW.b)([xW.o],BW.prototype,"OA",null);__c.k(()=>BW.prototype.formData);Object(yW.b)([xW.o],BW.prototype,"formData",null);__c.k(()=>BW.prototype.sWb);Object(yW.b)([xW.o],BW.prototype,"sWb",null);var Ttd=a=>{const b=new BW(a);let c;if(b.OA){const d=new AW(b),e=()=>d.svc();c={fields:b,Component:Object(Ltd.b)(()=>zW.createElement(Std,{onLoad:e,Gja:d.Gja,OA:b.OA,WG:b.WG,message:b.message,Qra:b.Qra}))}}return{description:void 0,uaa:{complete:__c.A("INQt9g",[]),D7a:__c.A("JKYx+g",[]),E7a:__c.A("C0IAAA",[])},dNa:c}};var Utd=(a,b)=>{var c={type:2,rd:a.rd,l8:a.l8},d=a.Lc,e={Xd:a.Ee,j6:a.j6};b=a.iq&&!a.ES?{Gpd:b,title:__c.A("dnK3QQ",[a.title]),Oi:__c.A("UZCjtg",[])}:void 0;a:{switch(a.da){case 1:break;case 3:var f={type:1,cI:a.cI};break a;case 2:f={type:2,cI:a.cI};break a;default:throw new __c.B(a.da);}f=void 0}return{La:c,uUa:d,XSa:e,ksa:b,m6:f,form:Ttd(a),RTb:a.Gob?{title:__c.A("6e1mYA",[]),tIb:__c.A("bam+Tw",[a.title])}:void 0}};var Vtd=(a,b,c=!1)=>({rd:a.ta,appId:a.La,l8:b.$v,appVersion:a.appVersion,iq:a.iq,da:a.da,ES:c,title:b.label,shortDescription:a.shortDescription,Lc:b.icon,j6:a.XTb.map(d=>__c.TZa(d,"supportedFileFormats")),cI:a.VTb,Gob:a.WTb,OA:a.OA,Ee:a.Ee,H8d:a.Rwb,WG:a.WG,la:b.la,Ja:b.Ja});var CW=class{constructor(a,b){this.store=a;this.Wi=b}get zga(){return this.ICb.filter(a=>a.Qc)}get L_(){return this.ICb.filter(a=>!a.Qc)}edb(a){Object.assign(wW(this.Wi,a),{Qc:!0,header:{kind:"default"}})}Pva(a){Object.assign(wW(this.Wi,a),{Qc:!1,header:{kind:"with_back_button"}})}get ICb(){return[...this.store.extensions].map(([,a])=>a)}J0a(a,b){this.store.extensions.forEach(c=>{c.La===a&&c.Qc!==b&&Object.assign(c,{Qc:b})})}};__c.k(()=>CW.prototype.zga);Object(yW.b)([xW.o],CW.prototype,"zga",null);
__c.k(()=>CW.prototype.L_);Object(yW.b)([xW.o],CW.prototype,"L_",null);__c.k(()=>CW.prototype.edb);Object(yW.b)([xW.l],CW.prototype,"edb",null);__c.k(()=>CW.prototype.Pva);Object(yW.b)([xW.l],CW.prototype,"Pva",null);__c.k(()=>CW.prototype.ICb);Object(yW.b)([xW.o],CW.prototype,"ICb",null);__c.k(()=>CW.prototype.J0a);Object(yW.b)([xW.l],CW.prototype,"J0a",null);var Wtd=class{constructor(a){this.store=a.store;this.Wi=a.Wi;this.dva=a.dva;this.TZ=a.TZ;this.v_a=a.v_a;this.UKb=a.UKb;this.reportError=a.reportError}async Lda(){await this.Ho({kind:"closed"})}async xg(a,b){await this.Ho({kind:"error",errorType:b,rd:a})}async edb(){await this.Ho({kind:"installing"})}async jba(){await this.Ho({kind:"app_details"})}async Pva(){await this.Ho({kind:"uninstalling"})}async getExtension(a){return this.Wi.Ypa(a,()=>this.v_a.getExtension(a,wW(this.Wi,a)))}async Ho(a){const b=
this.store.epa;try{switch(b.kind){case "closed":switch(a.kind){case "pre_opening":{const c=wW(this.Wi,a.rd);this.Wi.bq({kind:"pre_opening",rd:a.rd,lk:a.lk,option:c});await this.Ho(c.Qc?{kind:"opening"}:{kind:"opening_install_screen"});return}case "error":{const c=wW(this.Wi,a.rd);this.Wi.bq({kind:"error",rd:a.rd,errorType:a.errorType,lk:()=>{},option:c});return}case "closed":return}break;case "pre_opening":switch(a.kind){case "opening_install_screen":if(b.option.Qc)break;this.TZ.iRb(b.option.ta,void 0);
this.Wi.bq({kind:"opening_install_screen",nub:Etd(this,b.rd),option:b.option,lk:b.lk});await this.Ho({kind:"install_screen"});return;case "opening":if(!b.option.Qc)break;this.TZ.hJa(b.option.ta);this.Wi.bq({kind:"opening",kcc:this.getExtension(b.rd),nub:Etd(this,b.rd),option:b.option,lk:b.lk});await this.Ho({kind:"open"});return;case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "opening_install_screen":switch(a.kind){case "install_screen":this.Wi.bq({kind:"install_screen",
fl:await b.nub,option:b.option,lk:b.lk});return;case "closed":this.Wi.bq({kind:"closed"});return;case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "install_screen":switch(a.kind){case "installing":this.Wi.bq({kind:"installing",kcc:Ftd(this,b.option.ta),fl:b.fl,option:b.option,lk:b.lk});await this.Ho({kind:"open"});return;case "closed":this.Wi.bq({kind:"closed"});return;case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,
option:b.option,lk:b.lk});return}break;case "installing":switch(a.kind){case "open":try{this.Wi.bq({kind:"open",ta:await b.kcc,fl:Object.assign({},b.fl,{Qc:!0}),option:b.option,lk:b.lk});b.fl.il&&b.fl.gf?this.TZ.Emb({id:b.option.ta,il:b.fl.il,gf:b.fl.gf,Lc:b.fl.Lc,jba:()=>this.jba(),BF:()=>this.Pva()}):this.TZ.hJa(b.option.ta);return}catch(c){await this.Ho({kind:"error",rd:b.option.ta,errorType:"cannot_open"});return}case "closed":this.Wi.bq({kind:"closed"});return;case "error":this.Wi.bq({kind:"error",
rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "opening":switch(a.kind){case "open":try{this.TZ.hJa(b.option.ta);const c=await Promise.all([b.kcc,b.nub]);b.nub.then(d=>{d.il&&d.gf?this.TZ.Emb({id:b.option.ta,il:d.il,gf:d.gf,Lc:d.Lc,jba:()=>this.jba(),BF:()=>this.Pva()}):this.TZ.hJa(b.option.ta)}).catch(d=>{this.reportError(d,{Kc:`Failed to load app config and/or extension config for extension id = ${b.option.ta}`,extra:new Map([["extensionId",b.option.ta]])})});this.Wi.bq({kind:"open",
ta:c[0],fl:c[1],option:b.option,lk:b.lk});return}catch(c){await this.Ho({kind:"error",rd:b.option.ta,errorType:"cannot_open"});return}case "closed":this.Wi.bq({kind:"closed"});return;case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "open":switch(a.kind){case "app_details":this.Wi.bq({kind:"app_details",fl:b.fl,ta:b.ta,option:b.option,lk:b.lk});this.TZ.iRb(b.option.ta,()=>Ctd(this));return;case "uninstalling":this.Wi.bq({kind:"uninstalling",
promise:Gtd(this,b.option.ta),option:b.option,fl:b.fl,lk:b.lk});await this.Ho({kind:"closed"});return;case "closed":this.Wi.bq({kind:"closed"});return;case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "app_details":switch(a.kind){case "open":this.Wi.bq({kind:"open",ta:b.ta,fl:b.fl,option:b.option,lk:b.lk});b.fl.il&&b.fl.gf?this.TZ.Emb({id:b.option.ta,il:b.fl.il,gf:b.fl.gf,Lc:b.fl.Lc,jba:()=>this.jba(),BF:()=>this.Pva()}):this.TZ.hJa(b.option.ta);
return;case "uninstalling":this.Wi.bq({kind:"uninstalling",promise:Gtd(this,b.option.ta),option:b.option,fl:b.fl,lk:b.lk});await this.Ho({kind:"closed"});return;case "closed":this.Wi.bq({kind:"closed"});return;case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "uninstalling":switch(a.kind){case "closed":try{const c=b.lk;await b.promise;this.Wi.bq({kind:"closed"});c();return}catch(c){await this.Ho({kind:"error",rd:b.option.ta,errorType:"cannot_uninstall"});
return}case "error":this.Wi.bq({kind:"error",rd:b.option.ta,errorType:a.errorType,option:b.option,lk:b.lk});return}break;case "error":switch(a.kind){case "closed":const c=b.lk;this.Wi.bq({kind:"closed"});c();return}break;default:throw new __c.B(b);}throw Error(`Attempted to perform an incorrect state transition (from ${b.kind} to ${a.kind})`);}catch(c){throw this.reportError(c,{Kc:c.message,extra:new Map([["state",b.kind],["newState",a.kind]])}),c;}}};var Xtd=()=>{var a=window;return{openWindow:(b,c)=>a.open(b,"",c),VOc:b=>a.addEventListener("message",b),$be:b=>a.removeEventListener("message",b)}};var Ytd=zW.memo(({Kpc:a,fl:b,Ib:c})=>zW.createElement("div",{className:"kmvXtA"},zW.createElement(__c.NG,{fl:b,Rb:()=>{},theme:"light",$ha:a,kia:a,JA:c,da:"no-header"})));var Ztd=class extends zW.Component{render(){const {theme:a="light",Rb:b,da:c="standard"}=this.props,d="no-header"===c?void 0:zW.createElement("div",{className:"AyC1rQ"},zW.createElement(__c.ux,{Bf:"medium",className:"WK8jsw gLTEuQ XvGYmg",onClick:b,icon:__c.Hf})),e=zW.createElement("div",{className:"tI572w"},zW.createElement("div",{className:"uhZNlw _4dXjgA gLTEuQ XvGYmg _3SoQXQ"},zW.createElement(__c.An,{theme:a})),zW.createElement("div",{className:"sxB7aw Wtk9Mg de2usg XvGYmg"},zW.createElement("div",
{className:"wl0Zzw"},zW.createElement(__c.Vs,{theme:a})),zW.createElement("div",{className:"wl0Zzw"},zW.createElement(__c.Vs,{theme:a})))),f=zW.createElement(__c.An,{theme:a}),g=zW.createElement("div",{className:"xrg-mg"},zW.createElement(__c.Vs,{theme:a})),h=zW.createElement("div",{className:"C5b12g"},zW.createElement(__c.Vs,{theme:a}));return zW.createElement("div",{className:Otd()("veoKWA",{["Ch6-jw"]:"dark"===a})},zW.createElement(__c.wG,{header:d,footer:e,theme:a},zW.createElement("div",{className:"PBUF3g"},
zW.createElement("div",{className:"fMk0VQ"},zW.createElement(__c.LC,{alignContent:"start",Ula:"start",body:h,media:f,theme:a,title:g,xT:!0})),zW.createElement("div",{className:Otd()("JEFHmA","uBWj_g")},zW.createElement("div",{className:"JEFHmA"},zW.createElement("div",{className:"Jju6nA"},zW.createElement(__c.An,{theme:a})))),zW.createElement("div",{className:"G8UmQQ Eb9fNQ dN4nmw XvGYmg"},zW.createElement(__c.Vs,{theme:a})),zW.createElement("div",{className:"zZ3keg gLTEuQ XvGYmg"},zW.createElement("div",
{className:"_4rPMEQ"},zW.createElement(__c.Vs,{theme:a})),zW.createElement("div",{className:"_4rPMEQ"},zW.createElement(__c.Vs,{theme:a})),zW.createElement("div",{className:"_4rPMEQ"},zW.createElement(__c.Vs,{theme:a}))))))}};var aud=zW.memo(()=>zW.createElement("div",{className:"ZjcJgA"},zW.createElement(Ztd,{theme:"light",Rb:$td,da:"no-header"}))),$td=()=>{};var cud=()=>zW.createElement(__c.qlc,{list:[],onSubmit:bud,onSelect:bud,Rb:bud,n8:!0,loading:!0,Jeb:!1}),bud=()=>{};var fud=(a,b)=>(c,d,e,f,g,h)=>{const l=dud(a,b,e,h);return Object(Ltd.b)(({Lj:n})=>zW.createElement(__c.bn,{message:__c.A("FZmh3g",[c]),rq:g},eud(d.get(),f,l,n,e)))},dud=(a,b,c,d)=>{const e=xW.E.box();return({ta:f,Lj:g})=>{null==e.get()&&Object(xW.K)(()=>{e.set(a(Utd(f,d),f.rd,c,b))});const h=__c.p(e.get(),"Unexpected undefined instead of a component");return zW.createElement(h,{Lj:g})}},eud=(a,b,c,d,e)=>{switch(a.kind){case "closed":case "pre_opening":case "opening_install_screen":return zW.createElement(aud,
null);case "install_screen":case "installing":case "app_details":case "uninstalling":return zW.createElement(Ytd,{key:"install",Kpc:b,fl:a.fl,Ib:"installing"===a.kind||"uninstalling"===a.kind});case "opening":return zW.createElement(cud,null);case "open":return zW.createElement(c,{ta:a.ta,Lj:d,wh:e});case "error":switch(a.errorType){case "cannot_install":return zW.createElement("div",{className:"_2RqdOQ"},zW.createElement(__c.Hx,null,__c.A("5/Ae5Q",[a.option.label])));case "cannot_uninstall":return zW.createElement("div",
{className:"_2RqdOQ"},zW.createElement(__c.Hx,null,__c.A("/Bl0KQ",[a.option.label])));case "cannot_open":case "unknown":return zW.createElement("div",{className:"_2RqdOQ"},zW.createElement(__c.Hx,null,__c.A("FZmh3g",[a.option.label])));default:throw new __c.B(a.errorType);}default:throw new __c.B(a);}};var gud=class{constructor(a){this.kob=a.kob;this.lfa=a.lfa;this.Ypa=a.Ypa;this.reportError=a.reportError}static create(a){const b=__c.wtb({Da:a.Da,zn:a.zn,ofa:a.mT,oj:a.oj,pi:a.yyd,Ea:a.Ea,qn:"publish",WKa:a.WKa,dr:a.dr});return new gud({kob:a.kob,lfa:b,Ypa:a.Ypa,reportError:a.reportError})}async Ebd(a){if(2!==a.type)throw Error("Expected app to be external app");const b=a.rd;(a="success"===(await this.lfa.connect({type:"external",rd:b,l8:a.l8})).type)&&this.kob.N0b(b);return a?{valid:!0}:{valid:!1,
error:__c.A("IaAi4w",[])}}async getConfiguration(a){if(2!==a.type)throw this.reportError("Attempted to run internal publish extension as external",{extra:new Map([["app",JSON.stringify(a)]])}),Error("Attempted to run internal publish extension as external");return{valid:(await this.Ypa(a.rd)).ES}}async HG(a,b,c){var d;if(2!==a.type)throw this.reportError("Attempted to run internal publish extension as external",{extra:new Map([["app",JSON.stringify(a)]])}),Error("Attempted to run internal publish extension as external");
const e=await this.Ypa(a.rd),f=e.OA?__c.p(b.formData.message,"Message is required"):b.formData.message||"";e.OA&&__c.m(0<f.length,"Message is required");return{type:"external",va:a.rd,ta:a.rd,message:f,title:null===(d=b.formData.Gcc)||void 0===d?void 0:d.toString(),ea:[...b.pb],gg:c&&c.ee,jz:b.vc,Vo:b.Vo}}};var hud=class{constructor(a){this.BVb=async()=>{const b=this.store.epa;try{await Btd(this.pIb)}catch(c){this.reportError(c,"closed"!==b.kind?{Kc:`Cannot install the extension with id = ${b.option.ta}`,extra:new Map([["extensionId",b.option.ta]])}:void 0)}};this.store=a.store;this.pIb=a.pIb;this.u6b=a.u6b;this.ef=a.ef;this.Axc=a.Axc;this.reportError=a.reportError;this.l1b=a.l1b}xec(a){a=__c.p(this.store.extensions.get(a));return{status:a.Xe,eQ:a.$v===this.ef.user.id,pj:!1}}J0a(a,b){this.store.extensions.forEach(c=>
{c.La===a&&c.Qc!==b&&Object.assign(c,{Qc:b})})}};__c.k(()=>hud.prototype.J0a);Object(yW.b)([xW.l],hud.prototype,"J0a",null);var iud=class{constructor(a){this.fg=a.fg;this.rb=a.rb;this.DH=a.DH;this.reportError=a.reportError;this.vd=a.vd}static create(a){return new iud({fg:a.fg,rb:a.rb,DH:a.DH,reportError:a.reportError,vd:a.vd})}async RJ({appId:a,appVersion:b}){try{await this.fg.fj(a,b)}catch(c){this.reportError(c,{Kc:"Error occurred when attempted to install an app",extra:new Map([["appId",a],["appVersion",b]])})}}async BF({La:a,appVersion:b,label:c}){try{await this.fg.Qq(a),__c.ss(this.rb,{timeoutMs:4E3,Od:__c.A("KiJYcw",
[c])})}catch(d){this.reportError(d,{Kc:"Error occurred when attempted to uninstall an app",extra:new Map([["appId",a],["appVersion",b],["label",c]])})}}async getExtension(a,b){const {ES:c,ta:d}=await this.vd.sfc(new Ktd({ta:a}));return Vtd(d,b,c)}async fu({appId:a,appVersion:b}){return this.fg.fu(a,b)}};var jud=a=>b=>zW.createElement("div",{className:Otd()("BWqR9w _1zGq3g uEuSRg",b.className),style:b.style},zW.createElement("div",{className:"qy4T1g"},zW.createElement("img",{src:a,className:"kPRrhw"})));var kud=a=>"EXTENSION"===a.type,lud=a=>Object.assign({},a,{va:a.ta,uid:a.ta,Icon:jud(a.icon),header:a.Qc?{kind:"default"}:{kind:"with_back_button"},group:1,ta:a.ta,La:a.La});var mud=(a,b)=>{const c=e=>{a(e)},d=Object(Ptd.h)(e=>e.map(f=>({re:b(f.ta),key:f.ta,menu:{description:f.shortDescription,Lc:f.icon,title:f.label}})));return Object(Ltd.b)(({extensions:e,uV:f})=>zW.createElement(__c.VF,{title:f?__c.A("jcskpQ",[]):void 0,Mk:d(e),theme:"light",eZ:c}))};var DW=class{constructor(a,b){this.dva=a;this.NP=b}nqb(){this.FRb(this.dva.zga);this.hSb(this.dva.L_)}V3b(){this.FRb([]);this.hSb([])}FRb(a){this.NP.zga=a}hSb(a){this.NP.L_=a}};__c.k(()=>DW.prototype.nqb);Object(yW.b)([xW.l],DW.prototype,"nqb",null);__c.k(()=>DW.prototype.V3b);Object(yW.b)([xW.l],DW.prototype,"V3b",null);__c.k(()=>DW.prototype.FRb);Object(yW.b)([xW.l],DW.prototype,"FRb",null);__c.k(()=>DW.prototype.hSb);Object(yW.b)([xW.l],DW.prototype,"hSb",null);var nud=class{constructor(a){this.configuration=a;this.epa={kind:"closed"};this.extensions=xW.E.map();this.Dlb=xW.E.map()}};__c.k(()=>nud.prototype.epa);Object(yW.b)([xW.E.ref],nud.prototype,"epa",void 0);var EW=class{constructor(a,b){this.store=a;this.NDd=b}async Ypa(a,b){var c;b=null!==(c=this.store.Dlb.get(a))&&void 0!==c?c:this.GDc(await b()).get(a);return __c.p(b,`Somehow the extension with id ${a} is not accessible after being saved in in-memory cache`)}bq(a){this.store.epa=a}CDc(a){a.forEach(b=>{this.store.extensions.set(b.ta,this.NDd(b))})}GDc(a){return this.store.Dlb.set(a.rd,a)}};__c.k(()=>EW.prototype.bq);Object(yW.b)([xW.l],EW.prototype,"bq",null);__c.k(()=>EW.prototype.CDc);
Object(yW.b)([xW.l],EW.prototype,"CDc",null);__c.k(()=>EW.prototype.GDc);Object(yW.b)([xW.l],EW.prototype,"GDc",null);var FW=class{constructor(a){this.store=a}N0b(a){Object.assign(__c.p(this.store.Dlb.get(a),`Expected publish extension with id = "${a}" to exist`),{ES:!0})}rmc(a){this.store.Dlb.has(a)&&Object.assign(__c.p(this.store.Dlb.get(a),`Expected publish extension with id = "${a}" to exist`),{ES:!1})}};__c.k(()=>FW.prototype.N0b);Object(yW.b)([xW.l],FW.prototype,"N0b",null);__c.k(()=>FW.prototype.rmc);Object(yW.b)([xW.l],FW.prototype,"rmc",null);var GW=class{constructor(a,b,c){this.store=a;this.Wi=b;this.configuration=c}BDc(a){this.configuration.Dta=a}hJa(a){Object.assign(wW(this.Wi,a),{header:{kind:"default"}})}had(a,b,c){Object.assign(wW(this.Wi,a),{header:{kind:"with_creator_name",il:b,gf:c}})}Emb(a){Object.assign(wW(this.Wi,a.id),{header:{kind:"with_creator_name_and_flyout",il:a.il,gf:a.gf,Lc:a.Lc,Bsc:a.jba,Qpc:a.BF}})}iRb(a,b){Object.assign(wW(this.Wi,a),{header:{kind:"with_back_button",Rb:b}})}yCc(a,b){this.store.configuration.cTa.handlers.set(a,
b)}eed(a){this.store.configuration.cTa.handlers.delete(a)}};__c.k(()=>GW.prototype.BDc);Object(yW.b)([xW.l],GW.prototype,"BDc",null);__c.k(()=>GW.prototype.hJa);Object(yW.b)([xW.l],GW.prototype,"hJa",null);__c.k(()=>GW.prototype.had);Object(yW.b)([xW.l],GW.prototype,"had",null);__c.k(()=>GW.prototype.Emb);Object(yW.b)([xW.l],GW.prototype,"Emb",null);__c.k(()=>GW.prototype.iRb);Object(yW.b)([xW.l],GW.prototype,"iRb",null);__c.k(()=>GW.prototype.yCc);Object(yW.b)([xW.l],GW.prototype,"yCc",null);
__c.k(()=>GW.prototype.eed);Object(yW.b)([xW.l],GW.prototype,"eed",null);__c.oMc={NSc:async function({$:a,fg:b,nP:c,aa:d,ca:e,NP:f,rb:g,zn:h,mT:l,oj:n,OC:r,Da:t,y8c:u,DH:v,ef:x,vd:z,Uja:C,DB:F,dr:K}){const J=e.pc("publish_extension");e=(...ta)=>J.error(...ta);const P=ta=>{setTimeout(()=>r(ta))},N=x.user.id,R=iud.create({fg:b,rb:g,DH:v,reportError:e,vd:z}),T=()=>zW.createElement(__c.tw,{text:__c.A("GEdX0Q",[])}),W=(ta,wa)=>{const {eQ:qa,status:ya,pj:Oa}=va.xec(ta);return()=>zW.createElement(__c.eXb,{eQ:qa,status:ya,pj:Oa,hhd:wa})},Y=mud(P,W);v=zW.memo(ta=>zW.createElement(F,
{Kc:"RecommendedExtensionsList"},zW.createElement(Y,Object.assign({},ta))));v=new Rtd(v);z=new nud(v);const X=new EW(z,lud),fa=new GW(z,X,u),ea=new CW(z,X),pa=new FW(z),ka=new DW(ea,f),la=()=>oa.Lda();a=gud.create({Da:t,zn:h,mT:l,yyd:new __c.MWb(a),oj:n,Ea:N,kob:pa,cbe:Xtd(),Ypa:ta=>oa.getExtension(ta),reportError:e,WKa:new __c.zZb(g,__c.AZb),dr:K});const oa=new Wtd({store:z,Wi:X,dva:ea,TZ:fa,v_a:R,UKb:()=>ka.nqb(),reportError:e}),va=new hud({store:z,pIb:oa,u6b:fud(c,a),ef:x,Axc:(ta,wa)=>{ta=ta.ta;
fa.yCc(ta,{re:W(ta,T),My:W(ta,T),xd:wa,thb:la})},reportError:e,l1b:ta=>{pa.rmc(ta)}}),na=async()=>{const ta=(await Jtd(R)).filter(kud);X.CDc(ta);Itd(va);ka.nqb()};fa.BDc(v);Object(xW.J)(()=>C.get(),async ta=>{ta?ka.V3b():await na()});await na();Object(xW.J)(()=>d.ha,()=>na());Object(xW.J)(()=>b.Mk,function(ta){ta.forEach(wa=>{ea.J0a(wa.id,wa.Qc)});ka.nqb()});return{BFd:P}}};
}).call(self, self._bfa324c796fedc27ad6e48ccdc3f1756);}},[["M9az9","fDYT","K2W9","EEO/","m20L","QA57"]]])
//# sourceMappingURL=sourcemaps/dbabf35591074b49b72a1f887b5cfc57.2.js.map