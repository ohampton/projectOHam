(self["webpackJsonp"] = self["webpackJsonp"] || []).push([["qMFH"],{"MqMFH":function(_,__,__webpack_require__){__webpack_require__.n_x = __webpack_require__.n;__webpack_require__("MEEO/");__webpack_require__("MP4bM");self._bfa324c796fedc27ad6e48ccdc3f1756 = self._bfa324c796fedc27ad6e48ccdc3f1756 || {};(function(__c) {'use strict';var gIe=function(a,b){const c=Date.now();return a.hb(new __c.TP({id:a.Gcd.next(),author:a.iea,Qh:c,fm:c,content:b.content,dh:b.dh,bR:"pending",uN:b}))},hIe=function(a,b,c){return __c.Nj(a.viewport.sw(c).transform(b)).top},iIe=function(a){if(a.viewport.Rl&&!(!a.reference||a.ak&&a.ak.focused||a.isDragging())){var b=a.reference.page,c=a.reference.sKb;if(!a.fqa(a.reference.target)){var d=a.viewport.Kpa();return{offset:hIe(a,d,b)+c*a.config.zoom}}}},mIe=function(a){let b;const c=A8.J(()=>
a.viewport.Rl?a.mode:void 0,f=>{f&&(window.clearTimeout(b),b=void 0,"overlay"===f?a.xJa=!0:b=window.setTimeout(A8.l(()=>{a.xJa=!1}),jIe))},{fireImmediately:!0}),d=A8.J(()=>a.T5,f=>{const g=new Set(f.map(({ref:{target:h}})=>h));for(const h of a.obb())h.ref&&!g.has(h.ref.target)&&(h.ref=void 0,a.ak&&a.ak.store===h&&(a.ak=void 0));for(const {ref:h,Tf:l}of f)for(const n of l)!n.ref&&n instanceof B8&&(n.ref=h);for(const h of a.oX.keys())g.has(h)||a.oX.delete(h)},{fireImmediately:!0}),e=A8.J(()=>{if(a.viewport.Rl&&
!a.isDragging()&&!a.viewport.ST){var f=a.T5;"story"===a.config.Ah&&(f=f.filter(({ref:{page:r}})=>r===a.viewport.$a));if(0!==f.length){var g=[],h=a.viewport.Kpa(),l=a.config.zoom,n;for(const {ref:r,ref:{page:t,target:u},Tf:v}of f){f=r.sKb;n&&n.page===t||(n={page:r.page,offset:hIe(a,h,t)});f=n.offset+f*l;for(const x of v)x.ref&&x.ref.target===u&&g.push({store:x,offset:f,height:x.Eea})}h=iIe(a);if(!a.Xqa&&h)h={type:"button",offset:h.offset};else{const r=a.ak&&a.ak.store;h=r?g.findIndex(({store:t})=>
r===t):0;h={type:"comment",MG:-1<h?h:0}}return{reference:h,ksd:g}}}},f=>{if(f){var g=f.reference,h=f.ksd;f=(n,r)=>{for(;0<=n;n--){const {store:t,height:u}=h[n];r-=u;if(t.offset<=r)break;r=t.offset=r}};var l=(n,r)=>{for(;n<h.length;n++){const {store:t,offset:u,height:v}=h[n];t.offset=Math.max(u,r);r=t.offset+v}};l(0,0);if("comment"===g.type){const {store:n,offset:r,height:t}=h[g.MG];n.offset=r;f(g.MG-1,r);l(g.MG+1,r+t)}else if("button"===g.type){const n=g.offset,r=h.findIndex(t=>t.offset>=g.offset);
0>r?f(h.length-1,n):(f(r-1,n),l(r,n+kIe))}else throw new __c.B(g);}},{fireImmediately:!0,scheduler:lIe});return()=>{c();d();e()}},nIe=function(a,b){return!!b.ref&&a.page===b.ref.page&&a.element===b.ref.element&&a.parent===b.ref.parent},oIe=function(a,b){const c=a.rEb(b);return(a=a.oX.get(b))?[...c,a]:c},C8=async function(a,b){if(!a.lf(b)){var {page:c,element:d,parent:e}=__c.p(b.ref);"story"===a.config.Ah&&(a.selection.Vi(c),await Promise.resolve());A8.K(()=>{a.ak={store:b,focused:!0};d?e?a.selection.IN(c,
e,d):a.selection.Ki(c,d):a.selection.Vi(c);pIe(a,b)})}},rIe=function(a,b){const c=new qIe(__c.p(a.reference));c.offset=__c.p(iIe(a)).offset;var d=a.controller;__c.G1c(d.analytics,{fa:d.fa,source:b});a.oX.set(c.ref.target,c);C8(a,c)},pIe=function(a,b){var c=__c.p(b.ref);const {config:{zoom:d},viewport:e}=a;var f=e.Kpa(),g=__c.Nj(e.gu().transform(f));const h=g.height,l=g.top,n=l+h;g=e.sw(c.page).transform(f);c=c.element?c.Pna.transform(__c.yj(d).then(__c.Qj(g))):g;var r=__c.Nj(c);const t=r.top;r=t+
r.height;b=t+b.Eea;t>=l&&t<=n||r>=l&&r<=n&&b>=l&&b<=n||(g.height<=h?b=g.center().y-h/2:c.height<=h?(b=c.center().y-h/2,g=__c.Nj(g),b=Math.max(b,g.top),b=Math.min(b,g.top+g.height-h)):b=t,f=__c.Dj(f).then(e.bY()).transform(0,0).y+b,a.Mlb.animate(()=>e.Ww.y,u=>e.Hja(u),f))},sIe=function(a,{ref:b,Pb:c}){c instanceof B8&&(c.ref=b,a.ak&&a.ak.focused&&(a.ak={store:a.ak.store,focused:!1}));C8(a,c)},tIe=function(a){const b=a.ak,c=a.YWc;if(0!==c.length){var d=b?c.findIndex(({ref:e,Pb:f})=>f===b.store&&nIe(e,
f)):0;sIe(a,c[b&&b.focused?(d+1)%c.length:d])}},uIe=function(a){const b=a.ak,c=a.YWc;if(0!==c.length){var d=((b?c.findIndex(({ref:e,Pb:f})=>f===b.store&&nIe(e,f)):c.length)+c.length-1)%c.length;sIe(a,c[d])}},wIe=function(a,b,c,d){c=vIe(a.qcb,a.fqa,c,a.ph,d);let e;for(let g=c.length-1;0<=g;g--){var f=c[g];const h=new __c.DS(b,f,d),l=a.controller.nAa(f).list;for(const n of l)n.ref=h;0<l.length?e=l[0]:(f=a.oX.get(f))&&(e=f)}return e},vIe=function(a,b,c,d,e){a=__c.d2c(c,e,b,a);a.sort(__c.f2c(d));return a.map(({element:f})=>
f)},lIe=function(a){requestAnimationFrame(()=>setTimeout(a,0))},D8=__webpack_require__("mrSG");var A8=__webpack_require__("2vnA");var xIe=__webpack_require__("Gp1o");var yIe=__webpack_require__,zIe=yIe("TSYQ"),AIe=yIe.n_x(zIe);var E8=__webpack_require__("TyAF");var F8=__webpack_require__("q1tI");var BIe=__webpack_require__("CMvH");var jIe=parseInt("200ms",10),kIe=parseInt("32px",10)+__c.ax,CIe=parseInt("256px",10)+parseInt("48px",10)+__c.ax,G8=class{constructor(){this.Eea=1}};__c.k(()=>G8.prototype.Eea);Object(D8.b)([A8.E.ref],G8.prototype,"Eea",void 0);__c.k(()=>G8.prototype.offset);Object(D8.b)([A8.E.ref],G8.prototype,"offset",void 0);var B8=class extends G8{constructor(a){super();this.bc=a}};__c.k(()=>B8.prototype.ref);Object(D8.b)([A8.E.ref],B8.prototype,"ref",void 0);
var DIe=new __c.cu("draft_comment_"),qIe=class extends G8{constructor(a){super();this.ref=a;this.id=DIe.next()}},H8=class{constructor(a,b,c,d,e,f,g,h){this.controller=a;this.document=b;this.config=c;this.isDragging=d;this.selection=e;this.viewport=f;this.Sj=g;this.ph=h;this.oX=new Map;this.caa=new Map;this.mza=new A8.c;this.Mlb=new __c.jk;this.bQc=A8.q("commentingAvailableMargin");this.xJa=this.Hqb=!1;this.Ova=Object(xIe.h)(l=>new __c.ES(l,this.z7a,this.ph,this.fqa,this.qcb));this.z7a=Object(xIe.h)(l=>
new __c.GS(l,this.fqa,this.qcb));this.fqa=l=>this.oX.has(l);this.qcb=l=>(l=this.caa.get(l))?0<l.length:!1}get TOa(){const a=this.ph;var b=this.viewport;this.bQc.reportObserved();if(!b.Rl)return 0;const c=b.gu();b=b.aCa();return Math.min(CIe,Math.max(0,a?b.Yc.x-c.Yc.x:c.r.x-b.r.x))}get Xqa(){return isNaN(this.TOa)||this.TOa>=CIe}get mode(){if(this.Xqa)return"pinned";if(this.rjc)return"overlay";const a=0<this.$s.length;return!this.Hqb&&a?"overlay":"pinned"}get YWc(){return this.T5.flatMap(a=>{const b=
a.ref;return a.Tf.map(c=>({ref:b,Pb:c}))})}get T5(){const a=[];if(!this.viewport.Rl)return[];this.document.ea.toArray().forEach(b=>{var c=oIe(this,b);0<c.length&&a.push({ref:new __c.DS(b),Tf:c});for(const {element:d,parent:e}of this.Ova(b).Vua)c=oIe(this,d),0<c.length&&a.push({ref:new __c.DS(b,d,e),Tf:c})});return a}get $s(){return"story"===this.config.Ah?this.O6b:this.dEb}get Y8b(){return"story"===this.config.Ah?this.P6b:this.fEb}obb(){return[...this.controller.obb(),...[...this.caa.values()].flat()]}get dEb(){const a=
[];for(const b of this.obb())b.ref&&a.push(b);return a}get O6b(){return this.dEb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.$a})}get fEb(){return[...this.oX.values()]}get P6b(){return this.fEb.filter(a=>{var b;return(null===(b=a.ref)||void 0===b?void 0:b.page)===this.viewport.$a})}R2b(a){this.oX.delete(a.ref.target);this.ak&&this.ak.store===a&&(a=a.ref.target.jc,this.ak=0<a.length?(a=this.controller.YBa(a[a.length-1]))&&{store:a,focused:!1}:void 0)}async lHc(a,
b){var c;const d=gIe(this.controller,b);d.ref=a.ref;this.caa.get(a.ref.target)?null===(c=this.caa.get(a.ref.target))||void 0===c?void 0:c.push(d):this.caa.set(a.ref.target,[d]);this.oX.delete(a.ref.target);d.offset=a.offset;d.Eea=a.Eea;C8(this,d);a=await __c.P1c(this.controller,a.ref.target,b,A8.l(()=>{d.bc.Pb.bR="error"}));this.YEb(d,a)}Lxc(a){var b;if(null!==(b=a.ref)&&void 0!==b&&b.target){b=this.caa.get(a.ref.target)||[];var c=b.indexOf(a);-1!==c&&(b.splice(c,1),this.caa.set(a.ref.target,[...b]))}}async czc(a){var b,
c,d;null!==(b=a.ref)&&void 0!==b&&b.target&&(a.bc.Pb.bR="pending",b=await __c.P1c(this.controller,a.ref.target,{JJ:(null===(c=a.bc.Pb.uN)||void 0===c?void 0:c.JJ)||[],content:a.bc.Pb.content,dh:(null===(d=a.bc.Pb.uN)||void 0===d?void 0:d.dh)||[]},A8.l(()=>{a.bc.Pb.bR="error"})),this.YEb(a,b))}YEb(a,b){var c,d;a.bc.Yl.map(e=>{var f,g;return this.e2(b,{JJ:(null===(f=e.uN)||void 0===f?void 0:f.JJ)||[],content:e.content,dh:(null===(g=e.uN)||void 0===g?void 0:g.dh)||[]})});this.Lxc(a);(null===(c=this.ak)||
void 0===c?void 0:c.store)!==a||null!==(d=this.ak)&&void 0!==d&&d.focused||A8.K(()=>this.ak={store:b,focused:!1});this.lf(a)&&(b.offset=a.offset,b.Eea=a.Eea,C8(this,b))}Kna(a,b){a.bc.Pb.content=b.content;a.bc.Pb.dh=b.dh;a.bc.Pb.fm=Date.now();a.bc.Pb.bR="pending";a.bc.Pb.uN=b;return this.controller.Kna(a,b,A8.l(()=>a.bc.Pb.bR="error"))}NOb(a){if(this.ak&&this.ak.store===a){const c=__c.p(a.ref);var b=c.target.jc;const d=b.findIndex(e=>e===a.bc.Pb.id);this.ak=(b=b.slice(0,d).reverse().concat(b.slice(d+
1)).map(e=>this.controller.YBa(e)).find(e=>e&&e.ref?e.ref.element===c.element:!1))&&{store:b,focused:!1}}}WD(a){this.NOb(a);return this.controller.WD(a)}s5(a){this.NOb(a);return this.controller.s5(a,b=>{__c.ss(this.Sj,{Od:__c.A("LRA3hg",[]),Em:{type:"custom",kA:__c.A("rnE3Tg",[]),VA:b}})})}Heb(a){return this.controller.Heb(a)}wlb(a,b){return this.controller.wlb(a,b)}e2(a,b){const c=this.controller.q_b(a,b);return this.controller.e2(a,b,c.id)}Lna(a,b,c){return this.controller.Lna(a,b,c)}SS(a,b){return this.controller.SS(a,
b)}Yg(a){return this.controller.Yg(a)}Vr(a){return this.controller.Vr(a)}abb(){this.bQc.reportChanged()}get n6(){var a,b=this.ak?this.ak.store:this.T5[0];return(b=null===(a=null===b||void 0===b?void 0:b.ref)||void 0===a?void 0:a.page)&&this.document.ea.has(b)?b:void 0}get rjc(){return!!this.ak&&this.ak.focused}lf(a){return!!this.ak&&this.ak.store===a&&this.ak.focused}Q5a(a){this.lf(a)&&(this.ak={store:a,focused:!1})}Shb(a){this.reference=void 0;this.mza.clear();if(a){var b=a.page,c=a.elements;a=a.parent;
this.Hqb||(this.Hqb=this.$s.some(e=>e.ref&&e.ref.page===b));if(c){this.mza.replace(c.flatMap(e=>oIe(this,e)));var d=wIe(this,b,c,a);1===c.length&&(this.reference=new __c.DS(b,c[0],a));!d||this.ak&&this.ak.store.ref&&this.ak.store.ref.element&&c.includes(this.ak.store.ref.element)||(this.ak={store:d,focused:!1})}else{this.reference=new __c.DS(b);c=this.rEb(b);for(d of c)d.ref=this.reference;if(c[0]||this.oX.get(b))this.ak&&this.ak.store.ref&&this.ak.store.ref.target===b||(this.ak={store:c[0],focused:!1});
this.mza.replace([...oIe(this,b)])}}}rEb(a){return this.controller.nAa(a).list.concat(this.caa.get(a)||[])}};__c.k(()=>H8.prototype.ak);Object(D8.b)([A8.E.ref],H8.prototype,"ak",void 0);__c.k(()=>H8.prototype.reference);Object(D8.b)([A8.E.ref],H8.prototype,"reference",void 0);__c.k(()=>H8.prototype.oX);Object(D8.b)([A8.E.shallow],H8.prototype,"oX",void 0);__c.k(()=>H8.prototype.caa);Object(D8.b)([A8.E.deep],H8.prototype,"caa",void 0);__c.k(()=>H8.prototype.mza);
Object(D8.b)([A8.E.ref],H8.prototype,"mza",void 0);__c.k(()=>H8.prototype.Hqb);Object(D8.b)([A8.E.ref],H8.prototype,"Hqb",void 0);__c.k(()=>H8.prototype.xJa);Object(D8.b)([A8.E.ref],H8.prototype,"xJa",void 0);__c.k(()=>H8.prototype.TOa);Object(D8.b)([A8.o],H8.prototype,"TOa",null);__c.k(()=>H8.prototype.Xqa);Object(D8.b)([A8.o],H8.prototype,"Xqa",null);__c.k(()=>H8.prototype.mode);Object(D8.b)([A8.o],H8.prototype,"mode",null);__c.k(()=>H8.prototype.T5);
Object(D8.b)([A8.o.struct],H8.prototype,"T5",null);__c.k(()=>H8.prototype.$s);Object(D8.b)([A8.o.struct],H8.prototype,"$s",null);__c.k(()=>H8.prototype.Y8b);Object(D8.b)([A8.o.struct],H8.prototype,"Y8b",null);__c.k(()=>H8.prototype.dEb);Object(D8.b)([A8.o.struct],H8.prototype,"dEb",null);__c.k(()=>H8.prototype.O6b);Object(D8.b)([A8.o.struct],H8.prototype,"O6b",null);__c.k(()=>H8.prototype.fEb);Object(D8.b)([A8.o.struct],H8.prototype,"fEb",null);__c.k(()=>H8.prototype.P6b);
Object(D8.b)([A8.o.struct],H8.prototype,"P6b",null);__c.k(()=>H8.prototype.R2b);Object(D8.b)([A8.l],H8.prototype,"R2b",null);__c.k(()=>H8.prototype.lHc);Object(D8.b)([A8.l],H8.prototype,"lHc",null);__c.k(()=>H8.prototype.Lxc);Object(D8.b)([A8.l],H8.prototype,"Lxc",null);__c.k(()=>H8.prototype.czc);Object(D8.b)([A8.l],H8.prototype,"czc",null);__c.k(()=>H8.prototype.YEb);Object(D8.b)([A8.l],H8.prototype,"YEb",null);__c.k(()=>H8.prototype.Kna);Object(D8.b)([A8.l],H8.prototype,"Kna",null);__c.k(()=>H8.prototype.NOb);
Object(D8.b)([A8.l],H8.prototype,"NOb",null);__c.k(()=>H8.prototype.WD);Object(D8.b)([A8.l],H8.prototype,"WD",null);__c.k(()=>H8.prototype.s5);Object(D8.b)([A8.l],H8.prototype,"s5",null);__c.k(()=>H8.prototype.n6);Object(D8.b)([A8.o],H8.prototype,"n6",null);__c.k(()=>H8.prototype.rjc);Object(D8.b)([A8.o],H8.prototype,"rjc",null);var J8=class extends F8.Component{constructor(){super(...arguments);this.bsc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Qh!==a.fm?e.Kna(d,{JJ:(null===(b=a.uN)||void 0===b?void 0:b.JJ)||[],content:a.content,dh:(null===(c=a.uN)||void 0===c?void 0:c.dh)||[]}):e.czc(d)};this.csc=a=>{var b,c;const d=this.props.store,e=this.props.v;return a.Qh!==a.fm?e.Lna(d,a,{JJ:(null===(b=a.uN)||void 0===b?void 0:b.JJ)||[],content:a.content,dh:(null===(c=a.uN)||void 0===c?void 0:c.dh)||[]}):e.wlb(d,
a)};this.Yg=a=>this.props.v.Yg(a);this.Vr=a=>this.props.v.Vr(a);this.sqc=()=>C8(this.props.v,this.props.store);this.JQ=a=>this.props.v.Kna(this.props.store,a);this.prc=a=>this.props.v.e2(this.props.store,a);this.I$=(a,b)=>this.props.v.Lna(this.props.store,a,b);this.kqc=()=>{this.props.v.Heb(this.props.store)};this.Az=()=>this.props.v.WD(this.props.store);this.IQ=a=>this.props.v.SS(this.props.store,a);this.lu=()=>this.props.v.s5(this.props.store)}get u3(){const a=this.props.store,b=this.props.v;return this.props.focused||
b.mza.has(a)}render(){const {store:{bc:a},focused:b,tm:c,Fm:d,fq:e}=this.props;return F8.createElement("div",{id:`comment-${a.Pb.id}`,className:AIe()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.u3})},F8.createElement(I8,{bc:a.Pb,Yl:a.Yl,zu:a.zu,focused:b,Yg:this.Yg,Vr:this.Vr,Fm:d,prc:this.prc,sqc:this.sqc,JQ:this.JQ,I$:this.I$,kqc:this.kqc,Az:this.Az,IQ:this.IQ,lu:this.lu,bsc:this.bsc,csc:this.csc,tm:c,fq:e}))}};__c.k(()=>J8.prototype.u3);Object(D8.b)([A8.o],J8.prototype,"u3",null);
J8=Object(D8.b)([E8.b],J8);
var K8=class extends F8.Component{constructor(){super(...arguments);this.kOd=a=>this.props.v.lHc(this.props.store,a);this.Oc=()=>{this.props.v.R2b(this.props.store)}}get u3(){const a=this.props.store,b=this.props.v;return this.props.focused||b.mza.has(a)}render(){const a=this.props.tm,b=this.props.Fm;return F8.createElement("div",{className:AIe()("hkc8Dw SeGh3Q",{["hI07rw EEWnjA Y6qKQQ"]:this.u3})},F8.createElement(__c.SR,{type:"comment",tm:a,znb:!0,onSubmit:this.kOd,Oc:this.Oc,Fm:b}))}};
__c.k(()=>K8.prototype.u3);Object(D8.b)([A8.o],K8.prototype,"u3",null);K8=Object(D8.b)([E8.b],K8);
var I8=class extends F8.Component{constructor(){super(...arguments);this.sHb=!0;this.vi=a=>{const b=this.props.bsc,c=this.props.csc;a===this.props.bc?b(a):c(a)};this.aN=(a,b)=>{const c=this.props.JQ,d=this.props.I$;return a===this.props.bc?c(b):d(a,b)};this.Sm=a=>{const b=this.props.Az,c=this.props.IQ;return a===this.props.bc?b():c(a)}}render(){const a=this.props.Yl,b=this.props.Fm,c=this.props.prc,d=this.props.kqc,e=this.props.tm,f=this.props.zu-a.length,g={onFocus:this.props.sqc,aN:this.aN,Sm:this.Sm,
hGa:this.props.lu,vi:this.vi,tm:e,Yg:this.props.Yg,Vr:this.props.Vr,Fm:b,fq:this.props.fq};return F8.createElement(F8.Fragment,null,F8.createElement(L8,Object.assign({},g,{Pb:this.props.bc,type:"comment"})),0<f&&F8.createElement("button",{className:"dTVvdQ gLTEuQ XvGYmg",onClick:d},__c.A("ZKrOZQ",[f])),a.map(h=>F8.createElement(L8,Object.assign({},g,{key:h.id,Pb:h,type:"reply"}))),this.NEc&&F8.createElement(__c.SR,{type:"reply",onSubmit:c,onChange:this.orc,tm:e,znb:!0,Fm:b}))}get NEc(){return this.props.focused||
!this.sHb}orc(a){this.sHb=!a}};__c.k(()=>I8.prototype.sHb);Object(D8.b)([A8.E.ref],I8.prototype,"sHb",void 0);__c.k(()=>I8.prototype.NEc);Object(D8.b)([A8.o],I8.prototype,"NEc",null);__c.k(()=>I8.prototype.orc);Object(D8.b)([A8.l.bound],I8.prototype,"orc",null);I8=Object(D8.b)([E8.b],I8);
var L8=class extends F8.Component{constructor(){super(...arguments);this.KA=!1;this.vi=()=>{const a=this.props.vi;a(this.props.Pb)};this.lu=()=>{const a=this.props.hGa;return a(this.props.Pb)};this.aN=a=>{const b=this.props.Pb,c=this.props.aN;this.KA=!1;return c(b,a)};this.hgc=()=>{this.KA=!0;this.props.onFocus()}}render(){const a=this.props.Fm,b=this.props.Pb,c=this.props.tm,d=this.props.type,e=this.props.fq;return this.KA?F8.createElement("div",{className:"R3c_Fg"},F8.createElement(__c.SR,{type:d,
onSubmit:this.aN,Oc:this.Wpc,tm:c,znb:!0,Fm:a,Pb:b})):F8.createElement(e,{hGa:"comment"===d?this.lu:void 0,type:d,pending:"pending"===b.bR,error:"error"===b.bR?F8.createElement(EIe,{vi:this.vi}):void 0,key:b.id,Pb:b,g4:this.g4})}Wpc(){this.KA=!1}get g4(){const a=this.props.Pb,b=this.props.Yg,c=this.props.Vr,d=this.props.Sm,e="reply"===this.props.type,f=[];b(a)&&f.push({Icon:__c.Yu,label:e?__c.A("r/GefQ",[]):__c.A("L1Ai+w",[]),onMouseUp:()=>this.hgc()});c(a)&&f.push({Icon:__c.vC,label:e?__c.A("17eDJA",
[]):__c.A("Cj3aIw",[]),onMouseUp:()=>d(a)});return f}};__c.k(()=>L8.prototype.KA);Object(D8.b)([A8.E.ref],L8.prototype,"KA",void 0);__c.k(()=>L8.prototype.Wpc);Object(D8.b)([A8.l.bound],L8.prototype,"Wpc",null);__c.k(()=>L8.prototype.aN);Object(D8.b)([A8.l.bound],L8.prototype,"aN",void 0);__c.k(()=>L8.prototype.hgc);Object(D8.b)([A8.l],L8.prototype,"hgc",void 0);__c.k(()=>L8.prototype.g4);Object(D8.b)([A8.o],L8.prototype,"g4",null);L8=Object(D8.b)([E8.b],L8);
var EIe=({vi:a})=>F8.createElement(F8.Fragment,null,F8.createElement("span",null,__c.A("13+qHQ",[])," "),F8.createElement(__c.sy,{onClick:a},__c.A("Frp0dA",[])));var FIe=parseInt("256px",10),O8=class extends F8.Component{constructor(){super(...arguments);this.abb=()=>{this.props.v.abb()};this.Qgd=E8.b(a=>F8.createElement(J8,Object.assign({},a,{fq:this.props.fq})))}componentDidMount(){const a=this.props.v,b=this.props.selection;Object(E8.a)(this,mIe(a));Object(E8.a)(this,A8.J(()=>{var c;a:{if(c=b.state)switch(c.type){case "audio":break;case "pages":c={page:c.page};break a;case "elements":c=c.inner&&"group"===c.inner.type?{page:c.page,elements:c.inner.Xa,parent:c.inner.group}:
{page:c.page,elements:c.elements};break a;default:throw new __c.B(c);}c=void 0}return c},c=>a.Shb(c),{fireImmediately:!0}))}get F4b(){const {v:{mode:a,TOa:b,ph:c}}=this.props;if("pinned"===a||0>=b)return 0;if("overlay"===a)return(c?-1:1)*(b-FIe-4*__c.ax);throw new __c.B(a);}render(){const a=this.props.v,b=this.props.tm,c=this.props.xq,d=a.mode,e=a.TOa,f=a.Xqa,g=a.ph;return F8.createElement(F8.Fragment,null,F8.createElement(M8,{v:a}),F8.createElement("div",{className:AIe()("cJaGbg",{["_4xrvYw"]:"overlay"===
d}),style:{width:`${e}px`,transform:`translateX(${this.F4b}px)`}},a.$s.map(h=>F8.createElement(N8,{key:h.bc.Pb.id,gNc:this.Qgd,store:h,v:a,ph:g,tm:b,focused:a.lf(h),Fm:1===c.status,Xqa:f,onMouseDown:this.abb})),a.Y8b.map(h=>F8.createElement(N8,{key:h.id,gNc:K8,store:h,v:a,ph:g,tm:b,focused:a.lf(h),Fm:1===c.status,Xqa:f,onMouseDown:this.abb}))))}};__c.k(()=>O8.prototype.F4b);Object(D8.b)([A8.o],O8.prototype,"F4b",null);O8=Object(D8.b)([E8.b],O8);
var M8=class extends F8.Component{componentDidMount(){Object(E8.a)(this,A8.J(()=>iIe(this.props.v),a=>this.offset=a&&a.offset,{equals:A8.n.structural,scheduler:a=>requestAnimationFrame(()=>setTimeout(a,0))}))}render(){return F8.createElement(__c.eNb,null,null!=this.offset&&F8.createElement(__c.Ws,{label:__c.A("CRsrKA",[])},F8.createElement("button",{className:"oPuYeA qtDcVg Y6qKQQ",onClick:this.nFa,style:{transform:`translateY(${this.offset}px)`}},F8.createElement(__c.WF,{size:"medium"}))))}nFa(){const a=
this.props.v;a.abb();rIe(a,"comment_button")}};__c.k(()=>M8.prototype.offset);Object(D8.b)([A8.E.ref],M8.prototype,"offset",void 0);__c.k(()=>M8.prototype.nFa);Object(D8.b)([A8.l.bound],M8.prototype,"nFa",null);M8=Object(D8.b)([E8.b],M8);
var N8=class extends F8.Component{constructor(){super(...arguments);this.element=F8.createRef();this.cia=()=>{const a=this.props.v,b=this.props.store;{const c=document.getSelection&&document.getSelection();c&&"Range"===c.type&&this.element.current&&c.containsNode(this.element.current,!0)&&c.removeAllRanges()}a.lf(b)&&document.addEventListener("mouseup",this.Q5a,{once:!0})}}render(){const a=this.props.gNc;var b=this.props.Xqa,c=this.props.ph;const d=this.props.store,e=this.props.focused,f=AIe()("_3qDOXA qtDcVg",
{["jAmg0A"]:e,["kR-vew"]:b});b=(b?-5:-4)*__c.ax;c=null!=d.offset?`translate(${e?(c?-1:1)*b:0}px, ${d.offset}px)`:`matrix3d(0${", 0".repeat(15)})`;return F8.createElement(__c.AF,{NQ:this.cia},F8.createElement("div",{ref:this.element,style:{transform:c},className:f,onMouseDown:this.onMouseDown},F8.createElement(BIe.a,{client:!0,onResize:this.Iqc},({measureRef:g})=>F8.createElement("div",{ref:g,className:"eC5Pag"},F8.createElement(a,Object.assign({},this.props))))))}Iqc(a){this.props.store.Eea=a.client.height+
__c.ax}onMouseDown(){const a=this.props.onMouseDown;C8(this.props.v,this.props.store);a()}Q5a(){this.props.v.Q5a(this.props.store)}};__c.k(()=>N8.prototype.Iqc);Object(D8.b)([A8.l.bound],N8.prototype,"Iqc",null);__c.k(()=>N8.prototype.onMouseDown);Object(D8.b)([A8.l.bound],N8.prototype,"onMouseDown",null);__c.k(()=>N8.prototype.Q5a);Object(D8.b)([A8.l.bound],N8.prototype,"Q5a",null);N8=Object(D8.b)([E8.b],N8);__c.bgd={dBd:function({analytics:a,Yr:b,ca:c,config:d,ph:e,iea:f,fa:g,di:h,Pyb:l,document:n,isDragging:r,tm:t,rb:u,xq:v,selection:x,VLa:z,viewport:C,undo:F,fq:K}){const J=new __c.nS(a,g,h,l,n,b,z,f,F,N=>new B8(N),N=>__c.ss(u,{Od:N})),P=new H8(J,n,d,r,x,C,u,e);return new __c.CS({controller:J,ca:c,Component:()=>F8.createElement(O8,{config:d,v:P,tm:t,xq:v,selection:x,fq:K}),MTa:()=>{},Pfb:N=>{iIe(P)&&rIe(P,N)},Oja:N=>{(N=J.YBa(N))&&N.ref&&C8(P,N)},HSb:()=>tIe(P),PSb:()=>uIe(P),x4a:()=>P.xJa})}};
}).call(self, self._bfa324c796fedc27ad6e48ccdc3f1756);}},[["MqMFH","fDYT","EEO/","K2W9","P4bM","QA57"]]])
//# sourceMappingURL=sourcemaps/6c7b11c42d1706058103805306982999.2.js.map